#lang scheme
(require scheme/tcp)
(require "utilities.ss")
(define (send-to-server #:name [name-string "Unconfigured Name"] code-string #:server [server "localhost"] #:port [port 2000])
  (let-values ([(server->me me->server)
                (tcp-connect server port)])
    (write name-string me->server) 
    (write code-string me->server)
    (close-output-port me->server)
    (let ([response (read server->me)])
      (display response) (newline)
      (close-input-port server->me))))
